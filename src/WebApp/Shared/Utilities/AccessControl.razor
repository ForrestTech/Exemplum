@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using NavigationManagerExtensions = Microsoft.AspNetCore.Components.WebAssembly.Authentication.NavigationManagerExtensions

@inject NavigationManager Navigation

<AuthorizeView>
    <Authorized>
        <MudTooltip Text="Log out">
            <MudIconButton
                id="log-out"
                @onclick="BeginSignOut"
                Icon="@Icons.Material.Filled.Logout"
                Color="Color.Inherit"
                aria-label="Log out"/>
        </MudTooltip>
    </Authorized>
    <Authorizing>
        <MudTooltip Text="Log in" id="log-in">
            <MudIconButton
                Link="authentication/login"
                Icon="@Icons.Material.Filled.Login"
                Color="Color.Inherit"
                aria-label="Log in"/>
        </MudTooltip>
    </Authorizing>
    <NotAuthorized>
        <MudTooltip Text="Log in" id="log-in">
            <MudIconButton
                Link="authentication/login"
                Icon="@Icons.Material.Filled.Login"
                Color="Color.Inherit"
                aria-label="Log in"/>
        </MudTooltip>
    </NotAuthorized>
</AuthorizeView>

@code{

    private Task BeginSignOut(MouseEventArgs args)
    {
        Navigation.NavigateToLogout("authentication/logout");
        return Task.CompletedTask;
    }

}